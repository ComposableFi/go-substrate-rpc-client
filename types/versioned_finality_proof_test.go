package types_test

import (
	"github.com/ComposableFi/go-substrate-rpc-client/v4/types"
	"testing"
)

func TestVersionedFinalityProof_Decoding(t *testing.T) {
	justification := []byte{
		1, 4, 109, 104, 128, 47, 17, 246, 19, 147, 113, 185, 26, 65, 62, 59, 247, 10, 110, 124, 201, 160, 27, 11, 242, 201, 9, 82, 214, 224, 140, 72, 33,
		70, 168, 140, 255, 41, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 4, 184, 5, 0, 0, 0, 16, 59, 124, 162, 17, 189, 231, 70, 119, 172, 182, 162, 40, 47, 1, 119, 10,
		147, 45, 233, 2, 241, 172, 29, 48, 242, 54, 128, 203, 198, 120, 143, 117, 51, 77, 227, 31, 54, 66, 98, 178, 35, 248, 131, 143, 225, 186, 79, 181,
		41, 139, 122, 101, 192, 52, 71, 146, 110, 143, 241, 255, 39, 12, 154, 113, 1, 187, 0, 141, 146, 245, 139, 117, 115, 190, 149, 122, 94, 155, 213,
		208, 33, 38, 41, 195, 25, 231, 187, 251, 41, 246, 250, 207, 251, 29, 38, 128, 156, 27, 9, 223, 106, 226, 84, 74, 178, 133, 227, 227, 86, 12, 84,
		49, 25, 153, 43, 124, 240, 170, 196, 232, 252, 113, 9, 20, 54, 224, 38, 63, 14, 0, 218, 30, 250, 99, 133, 109, 91, 223, 88, 105, 130, 178, 176,
		197, 131, 237, 98, 201, 69, 129, 71, 174, 46, 64, 130, 113, 245, 238, 246, 144, 145, 79, 53, 169, 73, 192, 95, 101, 203, 140, 70, 144, 56, 54,
		83, 170, 203, 86, 181, 182, 135, 146, 192, 71, 74, 185, 61, 219, 171, 53, 71, 146, 240, 40, 0, 251, 252, 51, 163, 152, 68, 134, 160, 70, 183,
		88, 12, 25, 167, 121, 9, 199, 201, 15, 194, 163, 195, 170, 142, 206, 155, 147, 67, 13, 8, 242, 125, 2, 96, 232, 10, 111, 111, 241, 221, 97, 101,
		234, 133, 53, 250, 160, 14, 190, 23, 67, 76, 29, 80, 133, 130, 71, 17, 242, 176, 163, 37, 4, 187, 0,
	}

	vfp := &types.VersionedFinalityProof{}
	err := types.DecodeFromBytes(justification, vfp)
	if err != nil {
		t.Errorf("Decoding error: %v", err)
	}
}
